---
output: pdf_document
latex_engine: pdflatex
header-includes:
  \usepackage{helvet}
  \renewcommand\familydefault{\sfdefault}
params:
  annee: 2023
  dates_compl: "11 au 16 juillet 2023"
  ville: "Amos"
  langue: "FR"
---


```{r here, include=FALSE}
# Gestion avec here
here::i_am("guide2023.Rproj")
```

```{r call_Libs_Vars, include=FALSE}
# Appel des librairies et variables partagées
source(here::here("code","_LibsVars.R"))

# Dates
source(here("code", "_Dates.R"))

# Pour accès aux données du fichier excel Itineraires.xlsx
source(here("code","_import_itineraire.R"))

# Pour accès au graphique d'élévation
source(here("code","graphique_denivele.R"))

# Pour accès aux tracés
parcours <- st_read(here("gpx","output","parcours.shp"))

# Langue
lang <- params$langue

# Edition  (52e en 2022)
edition <-params$annee - 2022 + 52

# Locale
## https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/locales
{if (lang == "FR") Sys.setlocale("LC_TIME", locale = "fr_CA.UTF-8") 
  else Sys.setlocale("LC_TIME", locale = "en_US.UTF-8") }

opts_chunk$set( warning = FALSE,
                message = FALSE,
                quiet=TRUE)

```



# Étape 1 : `r iti_etape$Details$Descr_Villes[1]`

```{r, echo=FALSE}
Etape <-1


heureDep <- iti_etape$Details$time_depart[Etape]

heureArr <- iti_etape$Details$time_arrivee[Etape]

```



<br/>

**`r dates_FR %>% filter(code=="Mar") %>% pull(jsem_jour_mois_an)`** 

 **`r iti_etape$Details$KM_Total[Etape]` km**


Le commanditaire d'étape est **`r iti_etape$Details$Commanditaire[Etape]`**. 

## Sommaire

- `r iti_etape$Details$KM_Neutres[Etape]` km neutralisés au départ   
- Sans circuit d'arrivée

----------------------------------------------------
                                              Heure
----------------- ----------------------------------
Départ                                  `r heureDep`

Arrivée finale                         `r heureArr`
----------------------------------------------------

## Parcours

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Full.png")))

```


<br/>


[Ride with GPS](`r iti_etape$Details$Liens[Etape]`)

<br/>

### Détail du départ


```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Dep.png")))

```

### Détail de l'arrivée

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Arr.png")))

```

## Élévation

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Full_{lang}.png")))

```

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Final_{lang}.png")))

```

## Description détaillée

```{r, out.width="100%" , fig.align='center', echo = FALSE, eval = TRUE}

knitr::include_graphics(here("guide_FR_PDF", "details",  glue("tableau_{Etape}.pdf")))

```



\pagebreak

# Étape 2 : `r iti_etape$Details$Descr_Villes[2]`

```{r, echo=FALSE}
Etape <-2


heureDep <- iti_etape$Details$time_depart[Etape]

heureArr <- iti_etape$Details$time_arrivee[Etape]

```





<br/>

**`r dates_FR %>% filter(code=="Mer") %>% pull(jsem_jour_mois_an)`** 

 **`r iti_etape$Details$KM_Total[Etape]` km**


Le commanditaire d'étape est **`r iti_etape$Details$Commanditaire[Etape]`**. 

## Sommaire

- `r iti_etape$Details$KM_Neutres[Etape]` km neutralisés au départ   


----------------------------------------------------
                                              Heure
----------------- ----------------------------------
Départ                                  `r heureDep`

Arrivée finale                         `r heureArr`
----------------------------------------------------

## Parcours

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Full.png")))

```


<br/>


[Ride with GPS](`r iti_etape$Details$Liens[Etape]`)

<br/>

### Détail du départ


```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Dep.png")))

```

### Détail de l'arrivée

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Arr.png")))

```

## Élévation

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Full_{lang}.png")))

```

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Final_{lang}.png")))

```

## Description détaillée

```{r, out.width="100%" , fig.align='center', echo = FALSE, eval = TRUE}

knitr::include_graphics(here("guide_FR_PDF", "details",  glue("tableau_{Etape}.pdf")))

```








# Étape 4 : `r iti_etape$Details$Descr_Villes[4]`

```{r, echo=FALSE}
Etape <-4


heureDep <- iti_etape$Details$time_depart[Etape]

heureArr <- iti_etape$Details$time_arrivee[Etape]

```



<br/>

**`r dates_FR %>% filter(code=="Jeu") %>% pull(jsem_jour_mois_an)`** 

 **`r iti_etape$Details$KM_Total[Etape]` km**


Le commanditaire d'étape est **`r iti_etape$Details$Commanditaire[Etape]`**. 

## Sommaire

- `r iti_etape$Details$KM_Neutres[Etape]` km neutralisés au départ   
- Sans circuit d'arrivée

----------------------------------------------------
                                              Heure
----------------- ----------------------------------
Départ                                  `r heureDep`

Arrivée finale                         `r heureArr`
----------------------------------------------------

## Parcours

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Full.png")))

```


<br/>


[Ride with GPS](`r iti_etape$Details$Liens[Etape]`)

<br/>

### Détail du départ


```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Dep.png")))

```

### Détail de l'arrivée

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Arr.png")))

```

## Élévation

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Full_{lang}.png")))

```

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Final_{lang}.png")))

```

## Description détaillée

```{r, out.width="100%" , fig.align='center', echo = FALSE, eval = TRUE}

knitr::include_graphics(here("guide_FR_PDF", "details",  glue("tableau_{Etape}.pdf")))

```



\pagebreak






# Étape 5 : `r iti_etape$Details$Descr_Villes[5]`

```{r, echo=FALSE}
Etape <-5


heureDep <- iti_etape$Details$time_depart[Etape]

heureArr <- iti_etape$Details$time_arrivee[Etape]

```



<br/>

**`r dates_FR %>% filter(code=="Mar") %>% pull(jsem_jour_mois_an)`** 

 **`r iti_etape$Details$KM_Total[Etape]` km**


Le commanditaire d'étape est **`r iti_etape$Details$Commanditaire[Etape]`**. 

## Sommaire

- `r iti_etape$Details$KM_Neutres[Etape]` km neutralisés au départ   
- Sans circuit d'arrivée

----------------------------------------------------
                                              Heure
----------------- ----------------------------------
Départ                                  `r heureDep`

Arrivée finale                         `r heureArr`
----------------------------------------------------

## Parcours

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Full.png")))

```


<br/>


[Ride with GPS](`r iti_etape$Details$Liens[Etape]`)

<br/>

### Détail du départ


```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Dep.png")))

```

### Détail de l'arrivée

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Arr.png")))

```

## Élévation

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Full_{lang}.png")))

```

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Final_{lang}.png")))

```

## Description détaillée

```{r, out.width="100%" , fig.align='center', echo = FALSE, eval = TRUE}

knitr::include_graphics(here("guide_FR_PDF", "details",  glue("tableau_{Etape}.pdf")))

```



\pagebreak






# Étape 6 : `r iti_etape$Details$Descr_Villes[6]`

```{r, echo=FALSE}
Etape <-6


heureDep <- iti_etape$Details$time_depart[Etape]

heureArr <- iti_etape$Details$time_arrivee[Etape]

```



<br/>

**`r dates_FR %>% filter(code=="Mar") %>% pull(jsem_jour_mois_an)`** 

 **`r iti_etape$Details$KM_Total[Etape]` km**


Le commanditaire d'étape est **`r iti_etape$Details$Commanditaire[Etape]`**. 

## Sommaire

- `r iti_etape$Details$KM_Neutres[Etape]` km neutralisés au départ   
- Sans circuit d'arrivée

----------------------------------------------------
                                              Heure
----------------- ----------------------------------
Départ                                  `r heureDep`

Arrivée finale                         `r heureArr`
----------------------------------------------------

## Parcours

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Full.png")))

```


<br/>


[Ride with GPS](`r iti_etape$Details$Liens[Etape]`)

<br/>

### Détail du départ


```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Dep.png")))

```

### Détail de l'arrivée

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Arr.png")))

```

## Élévation

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Full_{lang}.png")))

```

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Final_{lang}.png")))

```

## Description détaillée

```{r, out.width="100%" , fig.align='center', echo = FALSE, eval = TRUE}

knitr::include_graphics(here("guide_FR_PDF", "details",  glue("tableau_{Etape}.pdf")))

```



\pagebreak


# Étape 7 : `r iti_etape$Details$Descr_Villes[7]`

```{r, echo=FALSE}
Etape <-7


heureDep <- iti_etape$Details$time_depart[Etape]

heureArr <- iti_etape$Details$time_arrivee[Etape]

```



<br/>

**`r dates_FR %>% filter(code=="Mar") %>% pull(jsem_jour_mois_an)`** 

 **`r iti_etape$Details$KM_Total[Etape]` km**


Le commanditaire d'étape est **`r iti_etape$Details$Commanditaire[Etape]`**. 

## Sommaire

- `r iti_etape$Details$KM_Neutres[Etape]` km neutralisés au départ   
- Sans circuit d'arrivée

----------------------------------------------------
                                              Heure
----------------- ----------------------------------
Départ                                  `r heureDep`

Arrivée finale                         `r heureArr`
----------------------------------------------------

## Parcours

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Full.png")))

```


<br/>


[Ride with GPS](`r iti_etape$Details$Liens[Etape]`)

<br/>

### Détail du départ


```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Dep.png")))

```

### Détail de l'arrivée

```{r, out.width="80%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "cartes", "input",  glue("Etape{Etape}_Arr.png")))

```

## Élévation

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Full_{lang}.png")))

```

```{r, out.width="100%",fig.align='center',  echo = FALSE, eval = TRUE}

knitr::include_graphics(here("img", "elev", glue("Etape{Etape}_Final_{lang}.png")))

```

## Description détaillée

```{r, out.width="100%" , fig.align='center', echo = FALSE, eval = TRUE}

knitr::include_graphics(here("guide_FR_PDF", "details",  glue("tableau_{Etape}.pdf")))

```



\pagebreak